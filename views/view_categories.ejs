<%- contentFor('body') %>

<div class="container my-5">
    <h1>Category</h1>
    <div class="lead">List of Categories</div>
</div>

<div class="container my-5">
    <% if(typeof(categories) !="undefined" && !!categories && categories.length != 0){ %>

        <table class="table">
            <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Title</th>
                <th scope="col">Parent Category</th>
                <th scope="col">Actions</th>
            </tr>
            </thead>
            <tbody>
                <% let counter = 0 %>
                <% categories.forEach(function(category) { %>
                    <tr>
                        <td><%=++counter%></td>
                        <td><%=category.title%></td>
                        <td>
                            <% if(typeof(category.parent) !="undefined" && !!category.parent){ %>
                                <%=category.parent.title%>
                            <% } %>
                        </td>
                        <td>
                            <a href="/categories/delete/<%=category.id%>">Delete</a> &nbsp;
                            <a href="/categories/update/<%=category.id%>">Update</a>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>

    <% } %>

</div>